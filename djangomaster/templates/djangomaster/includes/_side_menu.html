{% load i18n %}
{% load url from future %}

<div class="pure-menu pure-menu-open">
    <a class="pure-menu-heading" href="{% url 'djangomaster:djangomaster-home' %}">Master</a>

    {% with selected_class="pure-menu-selected" %}

        <ul>
            {% for module, items in mastermenu.items %}
                <li>{{ module }}</li>
                {% for item in items %}
                    <li {% ifequal mastermenu_item item.name %}class="{{selected_class}}"{% endifequal %}>
                        <a href="{% url 'djangomaster:'|add:item.name %}">{{ item.label }}</a>
                    </li>
                {% endfor %}
            {% endfor %}
            {% comment %}
            <li {% ifequal menu_item 'home' %}class="{{selected_class}}"{% endifequal %}>
                <a href="{% url 'djangomaster:home' %}">{% trans 'Home' %}</a>
            </li>
            <li class="menu-item-divided {% ifequal menu_item 'routes' %}{{selected_class}}{% endifequal %}">
                <a href="{% url 'djangomaster:routes' %}">{% trans 'Routes' %}</a>
            </li>

            <li class="menu-item-divided {% ifequal menu_item 'signals' %}{{selected_class}}{% endifequal %}">
                <a href="{% url 'djangomaster:signals' %}">{% trans 'Signals' %}</a>
            </li>

            <li {% ifequal menu_item 'settings' %}class="{{selected_class}}"{% endifequal %}>
                <a href="{% url 'djangomaster:settings' %}">{% trans 'Settings' %}</a>
            </li>

            <li {% ifequal menu_item 'pylint' %}class="{{selected_class}}"{% endifequal %}>
                <a href="{% url 'djangomaster:pylint' %}">{% trans 'Pylint' %}</a>
            </li>

            <li {% ifequal menu_item 'jslint' %}class="{{selected_class}}"{% endifequal %}>
                <a href="{% url 'djangomaster:jslint' %}">{% trans 'JSlint' %}</a>
            </li>

            <li {% ifequal menu_item 'test' %}class="{{selected_class}}"{% endifequal %}>
                <a href="{% url 'djangomaster:test' %}">{% trans 'Test' %}</a>
            </li>

            <li {% ifequal menu_item 'migrations' %}class="{{selected_class}}"{% endifequal %}>
                <a href="{% url 'djangomaster:migrations' %}">{% trans 'Migrations' %}</a>
            </li>

            <li {% ifequal menu_item 'templatetags' %}class="{{selected_class}}"{% endifequal %}>
                <a href="{% url 'djangomaster:templatetags' %}">{% trans 'TempateTags' %}</a>
            </li>
            {% endcomment %}
        </ul>

    {% endwith %}
</div>
